import React from "react";
import { useState } from "react";
import styled, { useTheme } from "styled-components";

const ClipText = styled.text`
  font-family: "source_sans_probold";
  font-weight: bold;
  line-height: 1.1;
  font-size: 200px;
`;

const Inspiring = ({
  height,
  fillColor,
}: {
  height: string | number;
  fillColor: string;
}) => (
  <svg height={height} viewBox="0 0 980 221">
    <g id="Inspiring">
      <path
        d="M0.921875 0.59375H78.3916V5.81252H56.9366V161.68H78.3916V166.898H0.921875V161.68H22.2608V5.81252H0.921875V0.59375Z"
        fill={fillColor} stroke={fillColor}
      />
      <path
        d="M151.454 166.898H93.1201V162.144H108.312V66.2342H93.1201V61.4794H137.19V78.0634H137.77C141.79 71.8009 146.429 66.9687 151.686 63.5669C157.949 59.6238 164.946 57.6523 172.677 57.6523C183.269 57.6523 191.581 61.2088 197.611 68.3217C203.255 75.2028 206.077 85.563 206.077 99.4024V162.144H221.27V166.898H162.936V162.144H177.2V99.4024C177.2 91.9801 176.968 86.4521 176.504 82.8183C176.118 79.1845 175.306 76.2465 174.069 74.0044C171.595 69.4428 167.884 67.162 162.936 67.162C156.364 67.162 150.72 70.2546 146.004 76.4398C142.215 81.156 139.78 85.9109 138.697 90.7044C137.692 95.4207 137.19 101.258 137.19 108.216V162.144H151.454V166.898Z"
        fill={fillColor} stroke={fillColor}
      />
      <path
        d="M471.655 61.4794H515.724V162.144H531.033V166.898H471.655V162.144H486.847V66.2342H471.655V61.4794ZM488.935 33.6459C485.61 30.2441 483.948 26.2237 483.948 21.5848C483.948 16.9459 485.61 12.9255 488.935 9.52364C492.336 6.12178 496.357 4.42085 500.996 4.42085C505.635 4.42085 509.655 6.12178 513.057 9.52364C516.459 12.9255 518.16 16.9459 518.16 21.5848C518.16 26.2237 516.459 30.2441 513.057 33.6459C509.655 36.9705 505.635 38.6328 500.996 38.6328C496.357 38.6328 492.336 36.9705 488.935 33.6459Z"
        fill={fillColor} stroke={fillColor}
      />
      <path
        d="M604.559 166.898H545.181V162.144H560.374V66.2342H545.181V61.4794H585.54V83.7461H586.004C587.086 77.0197 589.831 71.1824 594.238 66.2342C599.263 60.5129 605.294 57.6523 612.329 57.6523C618.283 57.6523 623.115 59.6238 626.826 63.5669C630.924 67.6646 632.973 73.5405 632.973 81.1947C632.973 86.6068 631.619 90.9364 628.913 94.1836C626.053 97.6628 622.342 99.4024 617.78 99.4024C613.45 99.4024 609.971 98.2427 607.343 95.9232C604.327 93.2172 602.82 89.738 602.82 85.4857C602.82 81.4653 604.25 77.7928 607.111 74.4683C607.497 73.9271 608.038 73.2699 608.734 72.4968C609.507 71.7236 610.049 71.1437 610.358 70.7572C610.744 70.2933 611.092 69.7521 611.402 69.1335C611.711 68.515 611.865 67.9352 611.865 67.394C611.865 66.6208 611.402 65.8477 610.474 65.0745C609.546 64.224 608.348 63.7988 606.879 63.7988C604.868 63.7988 602.82 64.6493 600.732 66.3502C598.722 68.0511 596.905 70.2933 595.281 73.0766C591.261 80.1123 589.251 90.0859 589.251 102.998V162.144H604.559V166.898Z"
        fill={fillColor} stroke={fillColor}
      />
      <path
        d="M643.062 61.4794H687.132V162.144H702.44V166.898H643.062V162.144H658.255V66.2342H643.062V61.4794ZM660.342 33.6459C657.017 30.2441 655.355 26.2237 655.355 21.5848C655.355 16.9459 657.017 12.9255 660.342 9.52364C663.744 6.12178 667.764 4.42085 672.403 4.42085C677.042 4.42085 681.062 6.12178 684.464 9.52364C687.866 12.9255 689.567 16.9459 689.567 21.5848C689.567 26.2237 687.866 30.2441 684.464 33.6459C681.062 36.9705 677.042 38.6328 672.403 38.6328C667.764 38.6328 663.744 36.9705 660.342 33.6459Z"
        fill={fillColor} stroke={fillColor}
      />
      <path
        d="M774.923 166.898H716.589V162.144H731.781V66.2342H716.589V61.4794H760.658V78.0634H761.238C765.259 71.8009 769.897 66.9687 775.155 63.5669C781.417 59.6238 788.414 57.6523 796.146 57.6523C806.738 57.6523 815.049 61.2088 821.08 68.3217C826.724 75.2028 829.546 85.563 829.546 99.4024V162.144H844.738V166.898H786.404V162.144H800.669V99.4024C800.669 91.9801 800.437 86.4521 799.973 82.8183C799.586 79.1845 798.775 76.2465 797.538 74.0044C795.064 69.4428 791.352 67.162 786.404 67.162C779.832 67.162 774.188 70.2546 769.472 76.4398C765.684 81.156 763.248 85.9109 762.166 90.7044C761.161 95.4207 760.658 101.258 760.658 108.216V162.144H774.923V166.898Z"
        fill={fillColor} stroke={fillColor}
      />
      <path
        d="M891.475 131.063V130.599C885.754 127.97 880.922 124.221 876.979 119.35C871.953 113.087 869.441 105.51 869.441 96.6191C869.441 84.1713 873.77 74.4296 882.43 67.394C890.316 60.8995 900.637 57.6523 913.394 57.6523C921.512 57.6523 929.089 59.4692 936.125 63.103C937.748 59.5465 940.223 55.99 943.547 52.4335C948.805 46.8668 955.222 44.0835 962.799 44.0835C967.747 44.0835 971.69 45.3592 974.628 47.9106C977.952 50.6939 979.615 54.637 979.615 59.7398C979.615 62.9097 978.803 65.5384 977.179 67.6259C975.014 70.3319 971.96 71.6849 968.017 71.6849C964.538 71.6849 961.755 70.6412 959.667 68.5537C957.734 66.6208 956.768 64.1081 956.768 61.0155C956.768 59.8557 957.193 58.0002 958.044 55.4488C958.662 53.3613 958.971 52.2789 958.971 52.2016C958.971 50.8872 958.082 50.23 956.304 50.23C953.366 50.23 950.274 52.0856 947.026 55.7967C944.707 58.6574 942.581 61.9819 940.648 65.7703C944.359 67.8578 947.413 70.4866 949.81 73.6565C952.284 76.7491 953.985 79.9577 954.912 83.2822C955.918 86.5294 956.536 89.1195 956.768 91.0524C957.077 92.9852 957.232 94.7635 957.232 96.3871C957.232 109.608 952.593 119.814 943.315 127.004C935.661 133.034 925.185 136.05 911.887 136.05C910.495 136.05 908.407 136.011 905.624 135.934C902.841 135.856 900.753 135.818 899.362 135.818C892.171 135.818 887.184 136.514 884.401 137.905C881.386 139.374 879.878 141.578 879.878 144.516C879.878 148.227 882.468 150.546 887.648 151.474C893.834 152.402 903.421 152.943 916.41 153.098C923.754 153.175 929.244 153.33 932.878 153.562C936.511 153.716 940.88 154.296 945.983 155.301C951.163 156.306 955.57 157.814 959.203 159.824C969.641 165.7 974.86 174.321 974.86 185.686C974.86 197.515 969.177 206.445 957.812 212.476C947.838 217.888 932.916 220.594 913.046 220.594C899.439 220.594 888.46 219.086 880.11 216.071C867.276 211.432 860.859 204.242 860.859 194.5C860.859 188.933 863.487 184.178 868.745 180.235C874.08 176.292 880.303 174.05 887.416 173.509V173.045C881.85 171.808 877.172 169.682 873.384 166.666C868.513 162.646 866.077 157.659 866.077 151.706C866.077 144.67 869.325 139.297 875.819 135.586C879.994 133.112 885.213 131.604 891.475 131.063ZM913.394 131.295C919.811 131.295 924.373 128.202 927.079 122.017C928.857 117.687 929.746 109.299 929.746 96.851C929.746 84.4033 928.857 76.0146 927.079 71.6849C924.373 65.4997 919.811 62.4071 913.394 62.4071C906.9 62.4071 902.3 65.4997 899.594 71.6849C897.815 76.0146 896.926 84.4033 896.926 96.851C896.926 109.299 897.815 117.687 899.594 122.017C902.3 128.202 906.9 131.295 913.394 131.295ZM872.224 194.964C872.224 201.072 875.935 206.213 883.357 210.388C890.238 214.022 900.405 215.839 913.858 215.839C927.079 215.839 937.748 214.409 945.867 211.548C951.743 209.46 955.956 206.87 958.508 203.778C961.136 200.685 962.451 197.593 962.451 194.5C962.451 189.784 959.938 185.957 954.912 183.019C947.877 178.921 934.579 176.872 915.018 176.872C895.766 176.872 883.241 179.153 877.443 183.714C873.964 186.498 872.224 190.248 872.224 194.964Z"
        fill={fillColor} stroke={fillColor}
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M339.098 220.594H398.476V215.839H383.284V155.069H383.747C386.84 160.404 390.938 164.347 396.041 166.898C401.143 169.45 406.555 170.726 412.277 170.726C424.724 170.726 435.085 165.082 443.357 153.794C450.857 143.743 454.607 130.444 454.607 113.899C454.607 95.4207 449.929 80.8468 440.574 70.1773C433.152 61.8273 424.183 57.6523 413.668 57.6523C407.56 57.6523 401.8 59.2759 396.388 62.5231C391.054 65.7703 386.84 70.1773 383.747 75.744H383.284V40.7203C383.284 22.1647 371.347 7.32016 354.29 7.32016C348.191 7.32016 332.811 7.8382 326.815 22.6618C328.282 22.3609 329.805 22.1929 331.38 22.1679C337.108 11.8551 348.804 11.0313 354.29 11.0313C361.713 11.0313 376.325 18.4535 376.325 40.7203C376.325 58.5337 351.507 62.987 339.098 62.987V66.2342H354.29V215.839H339.098V220.594ZM405.898 163.071C402.96 163.071 399.984 162.144 396.968 160.288C393.953 158.432 391.286 155.494 388.966 151.474C384.25 143.511 381.892 131.14 381.892 114.363C381.892 99.2091 384.095 87.4186 388.502 78.9912C390.899 74.3523 393.682 70.9118 396.852 68.6697C400.1 66.3502 403.347 65.1905 406.594 65.1905C413.707 65.1905 418.23 71.3757 420.163 83.7461C421.554 92.792 422.25 103.152 422.25 114.827C422.25 129.362 421.477 140.379 419.931 147.879C418.771 153.6 416.877 157.582 414.248 159.824C411.619 161.989 408.836 163.071 405.898 163.071Z"
        fill={fillColor} stroke={fillColor}
      />
      <path
        d="M306.278 89.8926H311.96V53.4577C311.96 40.0254 317.506 30.4586 325.409 27.1482C325.788 25.5233 326.261 24.0315 326.815 22.6618C314.179 25.255 305.814 37.7152 305.814 53.4577C305.814 60.6788 301.02 62.742 298.624 62.871C297.773 62.871 296.845 62.7937 295.84 62.6391C294.912 62.4071 294.062 62.1752 293.289 61.9432C292.516 61.7113 291.433 61.3634 290.042 60.8995C288.65 60.4356 287.413 60.049 286.33 59.7398C281.846 58.3481 277.246 57.6523 272.53 57.6523C261.01 57.6523 252.003 61.2088 245.508 68.3217C240.096 74.3523 237.39 81.5426 237.39 89.8926C237.39 94.7635 238.163 99.1704 239.709 103.114C241.333 107.057 243.498 110.304 246.204 112.855C248.91 115.329 251.539 117.339 254.09 118.886C256.641 120.355 259.386 121.63 262.324 122.713C268.509 124.955 275.042 126.617 281.923 127.7C288.805 128.782 293.907 130.135 297.232 131.759C304.809 135.393 308.597 140.843 308.597 148.111C308.597 153.059 306.471 157.35 302.219 160.984C297.966 164.308 292.438 165.971 285.635 165.971C277.826 165.971 270.597 163.922 263.948 159.824C258.536 156.5 254.09 152.286 250.611 147.183C247.132 142.003 244.851 136.32 243.768 130.135H238.086V170.726H243.768C243.846 169.102 244.58 167.826 245.972 166.898C247.364 165.971 249.026 165.507 250.959 165.507C252.273 165.507 255.752 166.28 261.396 167.826C268.973 169.759 276.009 170.726 282.503 170.726C293.327 170.726 302.451 168.02 309.873 162.607C318.532 156.268 322.862 147.338 322.862 135.818C322.862 130.947 322.127 126.501 320.658 122.481C319.189 118.461 317.411 115.213 315.324 112.739C313.236 110.188 310.723 107.946 307.785 106.013C304.847 104.003 302.219 102.534 299.899 101.606C297.58 100.678 295.106 99.8663 292.477 99.1704C286.91 97.6241 280.918 96.3871 274.501 95.4593C268.161 94.5315 263.561 93.4105 260.7 92.0961C254.67 89.3901 251.655 85.0991 251.655 79.2232C251.655 77.0583 251.964 75.2414 252.582 73.7725C253.201 71.9169 254.477 70.0227 256.409 68.0898C260.43 64.3014 265.803 62.4071 272.53 62.4071C279.952 62.4071 286.446 64.456 292.013 68.5537C298.817 73.4245 303.572 80.5375 306.278 89.8926Z"
        fill={fillColor} stroke={fillColor}
      />
      <path
        d="M331.38 22.1679C329.805 22.1929 328.282 22.3609 326.815 22.6618C326.261 24.0315 325.788 25.5233 325.409 27.1482C326.773 26.5768 328.207 26.1918 329.696 26.0055C330.171 24.599 330.738 23.3239 331.38 22.1679Z"
        fill={fillColor} stroke={fillColor}
      />
      <path
        d="M346.636 37.0091C346.636 51.8536 328.081 51.8536 328.081 37.0091C328.081 32.6543 328.676 29.0268 329.696 26.0055C328.207 26.1918 326.773 26.5768 325.409 27.1482C324.743 30.0045 324.369 33.2718 324.369 37.0091C324.369 55.5648 350.347 55.5648 350.347 37.0091C350.347 29.5869 346.636 22.1647 331.792 22.1647C331.654 22.1647 331.517 22.1658 331.38 22.1679C330.738 23.3239 330.171 24.599 329.696 26.0055C330.383 25.9194 331.083 25.8758 331.792 25.8758C338.906 25.8758 346.636 29.1149 346.636 37.0091Z"
        fill={fillColor} stroke={fillColor}
      />
    </g>
  </svg>
);

const Amazing = ({
    height,
    blobColor1,
    blobColor2,
  }: {
    height: string | number;
    blobColor1: string;
    blobColor2: string;
  }) => (
    <svg id="visual" viewBox="0 0 900 200" height={height}>
      <defs>
        <filter id="blur1" x="-10%" y="-10%" width="120%" height="120%">
          <feFlood floodOpacity="0" result="BackgroundImageFix"></feFlood>
          <feBlend
            mode="normal"
            in="SourceGraphic"
            in2="BackgroundImageFix"
            result="shape"
          ></feBlend>
          <feGaussianBlur
            stdDeviation="60"
            result="effect1_foregroundBlur"
          ></feGaussianBlur>
        </filter>
      </defs>
      <clipPath id="textClip" className="filled-heading">
        <ClipText y=".75em">Amazing</ClipText>
        <ClipText y=".75em" visibility="hidden">
          Exciting
        </ClipText>
      </clipPath>
      <g clipPath="url(#textClip)">
        <g id="group1">
          <rect width="100%" height="100%" fill={blobColor2}></rect>
          <g filter="url(#blur1)">
            <circle cx="0" cy="0" fill={blobColor1} r="30%">
              <animate
                attributeName="cx"
                values="-30%;130%;-30%"
                dur="18s"
                repeatCount="999"
              />
              <animate
                attributeName="cy"
                values="-30%;130%;-30%"
                dur="12s"
                repeatCount="999"
              />
            </circle>
            <circle cx="0" cy="0" fill={blobColor1} r="30%">
              <animate
                attributeName="cx"
                values="130%;-30%;130%"
                dur="12s"
                repeatCount="999"
              />
              <animate
                attributeName="cy"
                values="-30%;130%;-30%"
                dur="18s"
                repeatCount="999"
              />
            </circle>
            <circle cx="0" cy="0" fill={blobColor2} r="30%">
              <animate
                attributeName="cx"
                values="130%;-30%;130%"
                dur="14s"
                repeatCount="999"
              />
              <animate
                attributeName="cy"
                values="130%;-30%;130%"
                dur="16s"
                repeatCount="999"
              />
            </circle>
            <circle cx="0" cy="0" fill={blobColor1} r="30%">
              <animate
                attributeName="cx"
                values="-30%;130%;-30%"
                dur="16s"
                repeatCount="999"
              />
              <animate
                attributeName="cy"
                values="130%;-30%;130%"
                dur="14s"
                repeatCount="999"
              />
            </circle>
          </g>
        </g>
      </g>
    </svg>
  );

const FancyTitle = ({ height }: { height: string }) => {
  const blobColor1 = "#00CC99";
  const blobColor2 = "#6600FF";
  const [iter, setIter] = useState(0);
  const theme : {text : string} = useTheme();
  return (
    <>
    {iter === 0 && <Inspiring height={height} fillColor={theme.text}/>}
    {iter === 1 && <Amazing height={height} blobColor1={blobColor1} blobColor2={blobColor2}/>}
    </>
  );
};

export default FancyTitle;
